{"version":3,"file":"recent-reports-item.js","sourceRoot":"","sources":["src/recent-reports-item.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport capitalizeString from './utils/capitalize-string';\nimport dateFormatter from './utils/date-formatter';\n\ntype ReportItemDetails = {\n  has_new_info: boolean,\n  age: number,\n  first_name: string,\n  last_name: string\n};\n\ntype ReportItem = {\n  details: ReportItemDetails,\n  updatedAt: string,\n  createdAt: string,\n  isPerson: boolean,\n  detailsCityState: string\n};\n\n@customElement('recent-reports-item')\nexport class RecentReportsItem extends LitElement {\n  @property({ type: Object })\n  report = {} as ReportItem;\n  @property({ type: Boolean })\n  editReportsMode = false;\n  shouldShowNewInfoTag: Boolean | undefined;\n  reportInfo: String | undefined;\n  age: Number | undefined;\n  city: String | undefined;\n  socialNetwork: String | undefined;\n  livesIn: String | undefined;\n  detailsYMM: String | undefined;\n  reportType: string | undefined;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  viewReportCallback: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  deleteReportCallback: any;\n\n  static override styles = css`\n    .recent-reports-item {\n      font-family: \"Lato\", sans-serif;\n      background-color: #ffffff;\n      border: solid 1px #000;\n      margin: 0;\n      margin-bottom: 25px;\n      border-radius: 4px;\n      box-shadow: 0 3px 10px 0 rgba(95, 85, 99, 0.35);\n      padding: 20px;\n      position: relative;\n      display: flex;\n    }\n\n    .new-info-tag{\n      border-radius: 10px;\n      background-color: #000;\n      color: #ffffff;\n      padding: 4px 6px;\n      font-size: 12px;\n      font-weight: bold;\n      font-stretch: normal;\n      position: absolute;\n      top: -10px;\n      right: -8px;\n      z-index: 2;\n    }\n\n    .report-item-info, .report-item-actions {\n      width: 50%;\n      position: relative;\n    }\n\n    .report-item-actions {\n      text-align: right;\n    }\n\n    .title {\n      font-size: 24px;\n      font-weight: bold;\n      color: #000;\n      margin: 0 0 8px 0;\n      word-break: break-all;\n    }\n\n    .title > small {\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 1;\n    }\n\n    .title:hover {\n      cursor: pointer;\n      text-decoration: underline;\n    }\n\n    .type {\n      font-size: 16px;\n      margin-bottom: 10px;\n      color: #000;\n    }\n\n    .info {\n      font-size: 14px;\n      color: #757575;\n      margin-bottom: 0;\n    }\n\n    .redirect-btn {\n      font-size: 16px;\n      font-weight: bold;\n      background-color: #000;\n      min-width: 140px;\n      height: 40px;\n      color: #ffffff;\n      margin-bottom: 20px;\n      border-radius: 6px;\n      border: 0;\n      cursor: pointer;\n    }\n\n    .remove-btn {\n      background-color: transparent;\n      border: 0;\n      font-size: 16px;\n      font-weight: bold;\n      color: #000;\n      height: 30px;\n      cursor: pointer;\n    }\n  `;\n\n  override connectedCallback() {\n    super.connectedCallback()\n\n    this.buildReportInfo();\n  }\n\n  buildReportInfo() {\n    this.shouldShowNewInfoTag = this.report?.details?.has_new_info;\n    if(this.report?.isPerson) {\n      this.reportInfo = capitalizeString(`${this.report?.details?.first_name || ''} ${this.report?.details?.last_name || ''}`);\n      this.age = this.report?.details?.age;\n      this.livesIn = this.report?.detailsCityState;\n      this.reportType = 'Person';\n    }\n  }\n\n  override render() {\n    const newInfoTag = html` <div class=\"new-info-tag\">NEW INFO</div>`;\n    const cityInfo = html`<br/> <small>${this.city}</small>`;\n    const socialNetworkInfo = html`<br/> <small>${this.socialNetwork}</small>`;\n    const livesInInfo = html`<br/> <small>${this.livesIn}</small>`;\n    const detailsYMMInfo = html`<br/> <small>${this.detailsYMM}</small>`;\n    const reportTypeInfo = html`\n      <p class=\"type\">\n        ${this.reportType === 'Professional' ? 'Professional Profile' : `${this.reportType} Report`}\n      </p>\n    `;\n    const createdAtInfo = html`\n      <p class='info'>\n        Updated\n        <span>${dateFormatter(this.report.updatedAt, 'MM/DD/YYYY')}</span>\n        |\n        Created\n        <span>${dateFormatter(this.report.createdAt, 'MM/DD/YYYY')}</span>\n      </p>\n    `;\n    const deleteReportButton = html`\n      <button class=\"remove-btn automation-recent-reports-remove-report\" @click=\"${() => this.deleteReportCallback()}\">\n        <span class=\"fa fa-remove\">x</span> Remove report <!-- TODO: add font-awesome-->\n      </button>\n    `;\n    const actionsBlock = html`\n      <button class=\"redirect-btn automation-recent-reports-data-card-cta\" @click=\"${() => this.viewReportCallback()}\">\n        View report\n      </button>\n\n    `;\n\n    return html`\n      <div class=\"recent-reports-item automation-recent-reports-data-card\">\n        ${this.shouldShowNewInfoTag ? newInfoTag : ''}\n        <div class=\"report-item-info\">\n          <h4 class=\"title\">\n            ${this.reportInfo}${this.age ? `, ${this.age}` : ''}\n            ${this.city ? cityInfo : ''}\n            ${this.socialNetwork ? socialNetworkInfo : ''}\n            ${this.livesIn ? livesInInfo : ''}\n            ${this.detailsYMM ? detailsYMMInfo : ''}\n          </h4>\n          ${this.reportType ? reportTypeInfo : ''}\n          ${this.report.updatedAt || this.report.createdAt ? createdAtInfo : ''}\n        </div>\n        <div class=\"report-item-actions\">\n          ${this.editReportsMode ? deleteReportButton : actionsBlock}\n        </div>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'recent-reports-item': RecentReportsItem;\n  }\n}"]}